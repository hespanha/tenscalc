
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1. Introduction &#8212; Tenscalc Users&#39; Guide</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Installation" href="install.html" />
    <link rel="prev" title="Tenscalc User Guide" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="install.html" title="2. Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Tenscalc User Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Tenscalc Users&#39; Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Introduction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1><span class="section-number">1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>TensCalc is a MATLAB© toolbox that generates optimized code to
perform computations involving <em>tensors</em>, i.e., multi-dimensional
arrays. TensCalc was specifically designed to solve nonlinear
constrained optimizations very efficiently, but its code generation
engine can be used to generate code to perform much more general
computations.</p>
<p>TensCalc is aimed at scenarios where one needs to perform very fast
a large number of computations (e.g., optimizations) that depend on
parameters that change from one instance of the computation to the
next instance, but the overall structure of the computation remains
the same.  This is common in applications where the
computations/optimizations depend on measured data and one wants to
compute optima for large or evolving datasets, e.g., in robust
estimation and classification, maximum likelihood estimation, model
predictive control (MPC), moving horizon estimation (MHE), and
combined MPC-MHE (which requires the computation of a saddle-point
equilibrium).</p>
<div class="section" id="what-type-of-code-is-generated-by-tenscalc">
<h2><span class="section-number">1.1. </span>What type of code is generated by TensCalc?<a class="headerlink" href="#what-type-of-code-is-generated-by-tenscalc" title="Permalink to this headline">¶</a></h2>
<p>TensCalc can either produce optimized MATLAB© or C code. The
former is only preferable for very large problems with mild speed
requirements, whereas the latter is aimed at small to medium-size
problems that need to be solved in just a few milliseconds.</p>
<p>The C code is completely self-contained and library free (aside from
the C standard library), making it extremely portable.</p>
<p>For ease of use within MATLAB©, both the C and MATLAB© code are
encapsulated into MATLAB© classes that appear indistinguishable to
the MATLAB© user, aside from the speed of execution. Within the class
wrapper, the C code is called from MATLAB© using the <cite>cmex</cite>
interface and dynamic libraries. <strong>Typically, C code is 10-100 times
faster.</strong></p>
</div>
<div class="section" id="which-optimizations-is-tenscalc-best-at">
<h2><span class="section-number">1.2. </span>Which optimizations is TensCalc best at?<a class="headerlink" href="#which-optimizations-is-tenscalc-best-at" title="Permalink to this headline">¶</a></h2>
<p>In the context of optimizations, TensCalc is mostly aimed at
generating solvers for optimizations with up to a few thousands of</p>
<p>optimization variables/constraints and solve times up to a few
milliseconds. The variables to be optimized can be multi-dimensional
arrays of any dimension (tensors) and the cost functions and
inequality constraints are specified using MATLAB©-like formulas.</p>
<p>TensCalc’s optimization solvers uses primal-dual interior point
methods and uses formulas for the gradient and the hessian matrix that
are computed symbolically in an automated fashion.</p>
</div>
<div class="section" id="why-is-tenscalc-generated-code-fast">
<h2><span class="section-number">1.3. </span>Why is TensCalc-generated code fast?<a class="headerlink" href="#why-is-tenscalc-generated-code-fast" title="Permalink to this headline">¶</a></h2>
<p>The speed achieved by code generated by TensCalc arises from a
combination of features: reuse of intermediate computations across and
within iterations of the solver, detection and exploitation of matrix
sparsity, avoidance of run-time memory allocation and garbage
collection, and reliance on flat code that improves the efficiency of
the micro-processor pipelining and caching. All these features have
been automated and embedded into the code generation process.</p>
<p>A price to pay for TensCalc’s speed is that the structure of the
computation/optimization is fixed at code-generation time. This has
two important consequences:</p>
<blockquote>
<div><ul class="simple">
<li><p>the sizes of all variables must be specified at code-generation
time, and</p></li>
<li><p>the sparsity structure of all computations is automatically
determined at code-generation time and assume that all external
parameters will generally be nonzero.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="how-does-tenscalc-syntax-compare-to-matlab">
<h2><span class="section-number">1.4. </span>How does TensCalc syntax compare to MATLAB©?<a class="headerlink" href="#how-does-tenscalc-syntax-compare-to-matlab" title="Permalink to this headline">¶</a></h2>
<p>TensCalc computations are defined using operations on symbolic
variables that very much resemble MATLAB©’s functions and
operators. This means that MATLAB© user’s will easily understand
TensCalc’s syntax. However, there are a few key issues that must be
kept in mind:</p>
<ul>
<li><p>TensCalc is very picky about the sizes of tensors and several
conversions of sizes that MATLAB© performs automatically must be
done manually in TensCalc.  For example, TensCalc distinguishes
between 2-by-1 matrices and 2-vector (see <a class="reference internal" href="basics.html#tensors-section"><span class="std std-ref">What are Tensors?</span></a>),
which cannot be added together in TensCalc without an explicit
<a class="reference internal" href="basics.html#reshape" title="reshape"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">reshape()</span></code></a> operation.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This is likely the case for most syntax errors when seasoned
MATLAB© users first start to work with TensCalc.</p>
</div>
</li>
<li><p>A few TensCalc functions have slightly different behavior (and
sometimes syntax) than the corresponding MATLAB© function with the
same name. Examples of this include the matrix inverse <code class="docutils literal notranslate"><span class="pre">inv</span></code> and
determinant <code class="docutils literal notranslate"><span class="pre">det</span></code> that in TensCalc can only be applied to
matrices that have been factorized using <code class="docutils literal notranslate"><span class="pre">lu</span></code> or <code class="docutils literal notranslate"><span class="pre">ldl</span></code>.</p></li>
<li><p>TensCalc has a few functions that do not exist in MATLAB©, but
can be used to generate more efficient code; most notably the
function <a class="reference internal" href="operations.html#tprod" title="tprod"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">tprod()</span></code></a> that provides a very general multiplication
operation between tensors (see <a class="reference internal" href="operations.html#tprod-section"><span class="std std-ref">Tensor product</span></a>). This operation
includes the usual matrix multiplication <code class="xref mat mat-func docutils literal notranslate"><span class="pre">*()</span></code> as a special case, the
summation over rows and/or columns <a class="reference internal" href="operations.html#sum" title="sum"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">sum()</span></code></a>, computing the trace of a
matrix <a class="reference internal" href="operations.html#trace" title="trace"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">trace()</span></code></a>, extracting a matrix main diagonal <a class="reference internal" href="operations.html#diag" title="diag"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">diag()</span></code></a>, computing
the euclidean norm of a vectors <a class="reference internal" href="operations.html#norm" title="norm"><code class="xref mat mat-func docutils literal notranslate"><span class="pre">norm()</span></code></a>; as well as generalizations
of all these operations to <code class="docutils literal notranslate"><span class="pre">n</span></code>-dimensional tensors.</p></li>
</ul>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Introduction</a><ul>
<li><a class="reference internal" href="#what-type-of-code-is-generated-by-tenscalc">1.1. What type of code is generated by TensCalc?</a></li>
<li><a class="reference internal" href="#which-optimizations-is-tenscalc-best-at">1.2. Which optimizations is TensCalc best at?</a></li>
<li><a class="reference internal" href="#why-is-tenscalc-generated-code-fast">1.3. Why is TensCalc-generated code fast?</a></li>
<li><a class="reference internal" href="#how-does-tenscalc-syntax-compare-to-matlab">1.4. How does TensCalc syntax compare to MATLAB©?</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Tenscalc User Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="install.html"
                        title="next chapter"><span class="section-number">2. </span>Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/intro.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="install.html" title="2. Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Tenscalc User Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Tenscalc Users&#39; Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><span class="section-number">1. </span>Introduction</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright © 2020, Joao Pedro Hespanha.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.1.
    </div>
  </body>
</html>